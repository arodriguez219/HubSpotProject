<!DOCTYPE html>
<html lang="en">

<html>

  <head>

    <meta charset="utf-8">
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style> body {padding: 0; margin: 0;} </style>


    
    <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
    </head>
    <body>
      <script src="p5.min.js" type = "text/javascript"></script>
      <script src="p5.dom.min.js" type = "text/javascript"></script>

      <!--<script src="p5.sound.min.js" type = "text/javascript"></script>-->

      <div class="container-fluid">
          <img src="https://www.refuelcreative.com.au/hs-fs/hubfs/HubSpot%20Powerful%20Alone%20Better%20Together.png?width=5509&name=HubSpot%20Powerful%20Alone%20Better%20Together.png" class="rounded mx-auto d-block" alt="Responsive image">
      </div>

      <div class="card border-secondary mb-3 mx-auto" style="width: 30rem;">
        <div class="card-header">
            <h3>Request your demo today!</h3>
        </div>
        <div class="card-body">
                <div class="container h-100">
                  <div class="row h-100 justify-content-center align-items-center">
                    <form class="col-12" id="theForm">
                      <title>Demo Requests</title>
                <div class="form-group">
                  <label for="formEmailInput">Email</label>
                  <input type="email" class="form-control" id="formEmailInput" placeholder="Ex: info@example.com">
                </div>
                <div class="form-group">
                  <label for="formCompanyInput">Company</label>
                  <input type="text" class="form-control" id="formCompanyInput" placeholder="Ex: HubSpot ">
                </div>
                <div class="form-group">
                  <label for="formFirstNameInput">First Name</label>
                  <input type="text" class="form-control" id="formFirstNameInput" placeholder="Ex: Jane">
                </div>
                <div class="form-group">
                  <label for="formLastNameInput">Last Name</label>
                  <input type="text" class="form-control" id="formLastNameInput" placeholder="Ex: Smith">
                </div>
              </form>
            </div>
          </div>
          <div class = "text-right">
          <input type ="submit" class="btn btn-primary">
        </div>
          <div class="card-footer border-dark mb-3">
          <img src="https://www.northeastern.edu/levelblog/wp-content/uploads/2018/07/hubspot-graphic.png" class="card-img-top" alt="hubspot">
            </div>

        </div>
      </div>


      <script>

          //var form = document.getElementById('theForm');
          //form.onSubmit = function(event){


              //require Node modules

              var https = require('https');
              var querystring = require('querystring');

              // build the data object

              var postData = querystring.stringify({
                  'email': req.body.email,
                  'company':req.body.company,
                  'firstname': req.body.firstname,
                  'lastname': req.body.lastname,
                 'hs_context': JSON.stringify({
                      "hutk": req.cookies.hubspotutk,
                      "ipAddress": req.headers['x-forwarded-for'] || req.connection.remoteAddress,
                      "pageUrl": "https://arodriguez219.github.io/HubSpotProject/",
                      "pageName": "Request Demo"
                  })
                });

              // set the post options, changing out the HUB ID and FORM GUID variables.

              var options = {
              	hostname: 'forms.hubspot.com',
              	path: '/uploads/form/v2/5578497/',
              	method: 'POST',
              	headers: {
              		'Content-Type': 'application/x-www-form-urlencoded',
              		'Content-Length': postData.length
              	}
              }

              // set up the request

              var request = https.request(options, function(response){
              	console.log("Status: " + response.statusCode);
              	console.log("Headers: " + JSON.stringify(response.headers));
              	response.setEncoding('utf8');
              	response.on('data', function(chunk){
              		console.log('Body: ' + chunk)
              	});
              });

              request.on('error', function(e){
              	console.log("Problem with request " + e.message)
              });

              // post the data

              request.write(postData);
              request.end();


      </script>

          <!-- Set up the path for the initial page view -->
            <script>
            var url = 'https://track.hubspot.com/v1/event?_n=000000001625&_a=5578497&email=testingapis@hubspot.com'
            var _hsq = window._hsq = window._hsq || [];
            _hsq.push(['setPath', '/home']);
            </script>


        <!-- Start of HubSpot Embed Code -->
          <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5578497.js">
          </script>
          <!-- End of HubSpot Embed Code -->

          <!-- Tracking subsequent page views -->
          <script>
              var _hsq = window._hsq = window._hsq || [];
              _hsq.push(['setPath', '/about-us']);
              _hsq.push(['trackPageView']);
          </script>

    </body>

    </html>
